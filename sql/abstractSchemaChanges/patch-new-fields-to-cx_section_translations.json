{
	"comment": "Convert unique index to primary key (T312266)",
	"before": {
		"name": "cx_section_translations",
		"columns": [
			{
				"name": "cxsx_id",
				"comment": "Section translation id. Autogenerated",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true, "autoincrement": true }
			},
			{
				"name": "cxsx_translation_id",
				"comment": "Translation id. translation_id from cx_translations table",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxsx_section_id",
				"comment": "Section id. Based on source revision id and cx id of the translated page section",
				"type": "binary",
				"options": { "notnull": true, "length": 30 }
			},
			{
				"name": "cxsx_source_section_title",
				"comment": "Source section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			},
			{
				"name": "cxsx_target_section_title",
				"comment": "Target section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			}
		],
		"indexes": [
			{
				"name": "cx_sx_sections",
				"comment": "Translation to sections relation",
				"columns": [
					"cxsx_translation_id",
					"cxsx_section_id"
				],
				"unique": true
			}
		],
		"pk": [ "cxsx_id" ]
	},
	"after": {
		"name": "cx_section_translations",
		"columns": [
			{
				"name": "cxsx_id",
				"comment": "Section translation id. Autogenerated",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true, "autoincrement": true }
			},
			{
				"name": "cxsx_translation_id",
				"comment": "Translation id. translation_id from cx_translations table",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxsx_section_id",
				"comment": "Section id. Based on source revision id and cx id of the translated page section",
				"type": "binary",
				"options": { "notnull": true, "length": 30 }
			},
			{
				"name": "cxsx_source_section_title",
				"comment": "Source section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			},
			{
				"name": "cxsx_target_section_title",
				"comment": "Target section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			},
			{
				"name": "cxsx_translation_status",
				"comment": "Status of the section translation. Possible values 0 (for 'draft'), 1 (for 'published'), 2 (for 'deleted')",
				"type": "mwtinyint",
				"options": { "notnull": false, "length": 1 }
			},
			{
				"name": "cxsx_translation_progress",
				"comment": "Progress of the section translation - json dump",
				"type": "blob",
				"options": { "notnull": true, "length": 255 }
			},
			{
				"name": "cxsx_translation_start_timestamp",
				"comment": "Start date of this translation",
				"type": "mwtimestamp",
				"options": { "notnull": true }
			},
			{
				"name": "cxsx_translation_last_updated_timestamp",
				"comment": "Last updated date of this translation",
				"type": "mwtimestamp",
				"options": { "notnull": true }
			}
		],
		"indexes": [
			{
				"name": "cx_sx_sections",
				"comment": "Translation to sections relation",
				"columns": [
					"cxsx_translation_id",
					"cxsx_section_id"
				],
				"unique": true
			}
		],
		"pk": [ "cxsx_id" ]
	}
}
